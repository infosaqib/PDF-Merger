<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <link rel='stylesheet' href='/output.css' />
</head>

<body class="h-[100vh]">
  <div class="container p-[40px]">
    <h1 class="text-xl md:text-3xl font-bold text-sky-500 my-1 md:my-3">
      <%= title %>
    </h1>
    <p class="text-base md:text-lg text-gray-400 my-1 md:my-3">Welcome to <%= title %>
    </p>
    <form name="myForm" method="post" action="/merge" enctype="multipart/form-data"
      class="flex flex-col justify-center items-center gap-1 md:gap-4 my-6">
      <div
        class="relative form_group flex flex-col justify-center items-center  p-20 my-2 border-2 rounded-lg border-dashed border-sky-300 bg-gray-100 ">

        <input type="file" name="pdfs" id="file" class="cursor-pointer absolute z-0 inset-0 opacity-0" accept=".pdf" multiple
          required>

        <div class="file-thumbnail flex flex-col justify-center items-center gap-3">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#0EA5E9"
            class="size-10 md:size-16">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5" />
          </svg>

          <h3 id="filename" class="text-base md:text-xl text-black font-semibold whitespace-nowrap">Upload files to merge</h3>
          <p class="text-base md:text-xl text-gray-400 whitespace-nowrap">Supports PDF only</p>
        </div>


      </div>
      <input type="submit" value="Merge Files"
        class="flex items-center bg-sky-500  border-0 py-4 md:py-2 px-12 focus:outline-none hover:bg-sky-600 cursor-pointer rounded text-white text-lg md:text-xl font-semibold mt-4 md:mt-0">
    </form>
    <p class="text-base md:text-sm text-gray-600 my-1 md:my-3"><b class="text-black">Note: </b>This Website doesn't store your files</p>
  </div>
  <script>
    const file = document.getElementById('file')
    file.addEventListener('change', () => {

      if (file.files.length !== 2) {
        document.getElementById('filename').innerText = 'Select exactly 2 files'
        document.getElementById('filename').style.color = 'red'
      } else if (file.files.length === 2) {
        document.getElementById('filename').innerText = file.files.length + ' files selected'
        document.getElementById('filename').style.color = 'black'
      }
    })

    document.myForm.onsubmit = ()=>{
      if(file.files.length !== 2){
        alert('Please select exactly 2 files')
        return false;
      }
    }

  </script>
</body>

</html>